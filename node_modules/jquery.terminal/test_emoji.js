var { JSDOM } = require('jsdom');
const { window } = new JSDOM(`...`);
var $ = require('jquery')(window);
global.window = window;
global.document = window.document;
var navigator = global.navigator = {userAgent:'NODE'};
require('./js/jquery.terminal-src')(window, $);


var str = 'ZZZZZZz\n\u263a\ufe0foo\tbar\t\t\u263a\ufe0fa\u0038\ufe0f\u20e3\nfoo\t\tb\t\tbaz\nfoobar\tba\t\tbr';
$.terminal.defaults.formatters.push([/☺️/gu, '[[;;;emoji relaxed;☺️]☺️]']);
$.terminal.defaults.formatters.push([/8️⃣/gu, '[[;;;emoji eight;8️⃣]8️⃣]']);
str = $.terminal.apply_formatters(str);
str = $.terminal.encode(str); 
var lines = $.terminal.split_equal(str, 1000);
console.log(lines);

